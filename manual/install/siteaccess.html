
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="no" lang="no">

<head>

<link rel="stylesheet" type="text/css" href="https://doc.sdk.exponential.earth/design/standard/stylesheets/core.css"/>
<link rel="stylesheet" type="text/css" href="https://doc.sdk.exponential.earth/design/admin/stylesheets/admin.css"/>
<link rel="stylesheet" type="text/css" href="https://doc.sdk.exponential.earth/kernel/sdk/style.css"/>
    <title>  Exponential - install / siteaccess  </title>

    
    
    
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15"/>

        <meta http-equiv="Content-language" content="en-GB"/>

    
        <meta name="author" content="eZ systems"/>

        <meta name="copyright" content="eZ systems"/>

        <meta name="description" content="install siteaccess "/>

        <meta name="keywords" content="cms, publish, e-commerce, content management"/>

    
    <meta name="MSSmartTagsPreventParsing" content="TRUE"/>
    <meta name="generator" content="Exponential"/>

<link rel="Home" href="http://web.archive.org/" title="Exponential front page"/>
<link rel="Index" href="http://web.archive.org/"/>
<link rel="Top" href="http://web.archive.org/" title="  Exponential - install / siteaccess  "/>
<link rel="Search" href="https://doc.sdk.exponential.earth/content/advancedsearch" title="Search Exponential"/>
<link rel="Shortcut icon" href="https://doc.sdk.exponential.earth/design/standard/images/favicon.ico" type="image/x-icon"/>
<link rel="Copyright" href="https://doc.sdk.exponential.earth/ezinfo/copyright"/>
<link rel="Author" href="http://web.archive.org/ezinfo/about"/>
<link rel="Help" href="../../../../manual.html"/><link rel="Glossary" href="../../../../sdk.html"/><link rel="Alternate" href="https://doc.sdk.exponential.earth/layout/set/print/manual/install/siteaccess" media="print" title="Printable version"/>

<link rel="Shortcut icon" href="/favicon.ico" type="image/x-icon" />
</head>

<body>

<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
    <td class="headlogo" width="560">
    <img src="/design/standard/images/ezpublish_logo_blue.gif" alt=""/></td>
    <td class="headlink" width="66">

<table cellspacing="0" cellpadding="0" border="0">
<tr>
    <td class="menuheadselectedgfx">
    <img src="/design/standard/images/light-left-corner.gif" alt=""/></td>
    <td class="menuheadselectedtopline">
    <img src="https://doc.sdk.exponential.earth/design/ezno/images/1x1.gif" alt="" width="60" height="1"/></td>
    <td class="menuheadselectedgfx">
    <img src="/design/standard/images/light-right-corner.gif" alt=""/></td>
</tr>
<tr>
    <td class="menuheadselectedleftline">
    <img src="https://doc.sdk.exponential.earth/design/ezno/images/1x1.gif" alt="" width="1" height="19"/></td>
    <td class="menuheadselected">
    <p class="menuheadselected">
    <a class="menuheadlink" href="https://doc.sdk.exponential.earth/manual/">Manual</a>
    </p>
    </td>
    <td class="menuheadselectedrightline">
    <img src="https://doc.sdk.exponential.earth/design/ezno/images/1x1.gif" alt="" width="1" height="19"/></td>
</tr>
</table>

</td>

    <td class="menuheadspacer" width="3">
    <img src="https://doc.sdk.exponential.earth/design/ezno/images/1x1.gif" alt="" width="3" height="1"/></td>
    <td class="headlink" width="66">

<table width="66" cellspacing="0" cellpadding="0" border="0">
<tr>
    <td class="menuheadgraygfx" width="3">
    <img src="/design/standard/images/dark-left-corner.gif" alt=""/></td>
    <td class="menuheadgraytopline" width="60">
    <img src="https://doc.sdk.exponential.earth/design/ezno/images/1x1.gif" alt="" width="60" height="1"/></td>
    <td class="menuheadgraygfx" width="3">
    <img src="/design/standard/images/dark-right-corner.gif" alt=""/></td>
</tr>
<tr>
    <td class="menuheadgrayleftline" width="3">
    <img src="https://doc.sdk.exponential.earth/design/ezno/images/1x1.gif" alt="" width="1" height="15"/></td>
    <td class="menuheadgray">
    <p class="menuheadgray">
    <a class="menuheadlink" href="/sdk.html">SDK</a>
    </p>
    </td>
    <td class="menuheadgrayrightline" width="3">
    <img src="https://doc.sdk.exponential.earth/design/ezno/images/1x1.gif" alt="" width="1" height="15"/></td>
</tr>
</table>

    </td>
   <td class="headlogo" width="50%">
   &nbsp;</td>
</tr>
    <td colspan="11" class="menuheadtoolbar">
    &nbsp;
    </td>
</tr>
<tr>
    <td class="pathline" colspan="11">
    
    <p class="path">
    &nbsp;
                    install
        
                    <span class="slash">/</span>
                        siteaccess
        
                &nbsp;</p>
    </td>
</tr>
</table>





<table class="layout" width="100%" cellpadding="0" cellspacing="0" border="0">
<tr>
    <td colspan="2">

<table width="100%" border="0" cellspacing="0" cellpadding="0">


<tr>
	<td>
<table width="100%" cellspacing="0" cellpadding="4"><tr>
    <td width="160" bgcolor="#ffffff" valign="top">
    


<table class="menuboxleft" width="120" cellpadding="1" cellspacing="0" border="0">
<tr>
    <th class="menuheaddark" colspan="2">
    <p class="menuhead">About Exponential</p>
    </th>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/about/about.html">About Exponential 3</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/about/definitions.html">Exponential 3 definitions</a></p>
    </td>
</tr>
</table>


<table class="menuboxleft" width="120" cellpadding="1" cellspacing="0" border="0">
<tr>
    <th class="menuheaddark" colspan="2">
    <p class="menuhead">Installation &amp; configuration</p>
    </th>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/install/installer.html">Install using installers</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/install/setup_guide.html">Install using the setup guide</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/install/install_manually.html">Install manually</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="siteaccess.html">Site access</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/install/multisite.html">Multi site configuration</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/install/uninstall.html">Uninstall</a></p>
    </td>
</tr>
</table>



<table class="menuboxleft" width="120" cellpadding="1" cellspacing="0" border="0">
<tr>
    <th class="menuheaddark" colspan="2">
    <p class="menuhead">Security</p>
    </th>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/security/securing.html">Securing the site</a></p>
    </td>
</tr>

</table>

<table class="menuboxleft" width="120" cellpadding="1" cellspacing="0" border="0">
<tr>
    <th class="menuheaddark" colspan="2">
    <p class="menuhead">Setup &amp; design</p>
    </th>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/setup/pagesetup.html">Page setup</a></p>
    </td>
</tr>

</table>

<table class="menuboxleft" width="120" cellpadding="1" cellspacing="0" border="0">
<tr>
    <th class="menuheaddark" colspan="2">
    <p class="menuhead">User Manual</p>
    </th>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/user/everyday.html">Everyday functions</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/user/permissions.html">Permissions</a></p>
    </td>
</tr>

<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/user/e-commerce.html">e-commerce functions and settings</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/user/workflows.html">Workflows</a></p>
    </td>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/manual/user/informationcollectors.html">Information collector</a></p>
    </td>
</tr>
</table>


<table class="menuboxleft" width="120" cellpadding="1" cellspacing="0" border="0">
<tr>
    <th class="menuheaddark" colspan="2">
    <p class="menuhead">SDK &amp; Technical references</p>
    </th>
</tr>
<tr>
    <td class="bullet" width="1">
    <img src="/design/standard/images/bullet.gif" width="12" height="12" alt=""/><br/>
    </td>
    <td class="menu" width="99%">
    <p class="menuitem"><a class="menuitem" href="https://doc.sdk.exponential.earth/sdk" }>Exponential SDK</a></p>
    </td>
</tr>
</table>

    
    </td>
    <td width="450" bgcolor="#ffffff" valign="top">
    

    <h1>Using site access</h1>

<ul>
	<li><a href="siteaccess.html#WhatIs">What is site access?</a></li>
	<li><a href="siteaccess.html#Siteaccess_configuration">Site access configuration</a></li>
	<ul>
		<li><a href="siteaccess.html#Host">Host</a></li>
		<ul>
			<li><a href="siteaccess.html#HostMatchMap">Host Match Map</a></li>
		</ul>
		<li><a href="siteaccess.html#URI">URI</a></li>
		<li><a href="siteaccess.html#Port">Port</a></li>
		<li><a href="siteaccess.html#Debug">Debug</a></li>
	</ul>
</ul>

<h2 id="WhatIs">What is site access?</h2>
<p>
	Once you've gotten Exponential up and running on a server you need to configure the system.
	You can have several different sites running on the same Exponential installation. To distinguish
	between these sites you need to set up something called site access. The site access defines
	how Exponential will recognize which site you're accessing. Exponential will then know which database
	to use, which design to show etc.
</p>

<h2 id="Siteaccess configuration">Site access configuration</h2>

<h3 id="Host">Host</h3>

<p>
	In this example we will name our site 'www.mybookstore.com' and we will use 'admin.mybookstore.com'
	as the administration interface. To make Exponential fetch site access from host names you need to
	configure a DNS server and point the domains to your web server. When your DNS is up and running
	and the names resolve to your web server and your Exponential installation you need to make Exponential
	recognize the names and use the correct configuration. To do this you open the configuration file
	found in 'settings/site.ini' in the root of your Exponential installation. In site.ini browse down to
	the section [SiteAccessSettings] and alter the configuration as shown below. Only the settings
	you need to change are shown below.
</p>

<pre class="example">
file: settings/site.ini

[SiteAccessSettings]
MatchOrder=host
HostMatchRegexp=^(.+)\.mybookstore\.com$
HostMatchSubtextPost=\.mybookstore\.com
</pre>

<p>
	Here we told Exponential to take the part before .mybookstore.com of the url and map it to a directory in settings/siteaccess.
	If we enter 'www.mybookstore.com' in our browser Exponential will look a directory called 'www' in settings/siteacces.

	Now that Exponential knows how to distinguish between the two domains we need to create a configuration
	file for each site. This is done by creating two folders under 'settings/siteaccess/' which
	corresponds to our matches ( 'www' and 'admin' ). In both these folder you need to create a file
	called site.ini.append. This is the configuration file which will be used to override any of
	the standard settings in Exponential. We will keep our example simple and have just made a few
	settings to distinguish between the two sites. You can see the two configuration files below.
</p>

<pre class="example">
file: settings/siteaccess/admin/site.ini.append

[SiteSettings]
LoginPage=custom

[SiteAccessSettings]
RequireUserLogin=true
</pre>

<p>
	The configuration LoginPage=custom means that Exponential will use a separate template for
	the login page of the administration site. RequireUserLogin=true tells Exponential not to
	let anyone inside Exponential unless they're logged into the system.
</p>

<pre class="example">
file: settings/siteaccess/www/site.ini.append

[DesignSettings]
SiteDesign=mybookstore

[SiteAccessSettings]
RequireUserLogin=false
</pre>

<p>
The settings above applies to the website. SiteDesign=mybookstore means that Exponential
will prefer to use the design for the site found in design/mybookstore, RequireUserLogin=false
is set so that users do not have to log into Exponential to browse the website.
</p>

<h4 id="HostMatch">Host Match Map</h3>
<p>
In the previous example we used a regexp to map part of the url to different sites. This is a very
powerful way of matching, but if you do not have experience or do not understand regexp,
this approach might be difficult. Instead of regexp we can make a list of URL's and tell Exponential 3
to match them to a site. See the configuration example below.
</p>
<pre class="example">file: settings/site.ini

[SiteAccessSettings]
MatchOrder=host
HostMatchType=map
HostMatchMapItems[]=mybookstore.com;user
HostMatchMapItems[]=www.mybookstore.com;user
HostMatchMapItems[]=admin.mybookstore.com;admin
</pre>

<p>
As you might see from the example we mapped 'mybookstore.com' and 'www.mybookstore.com' to the user site
and 'admin.mybookstore.com' to the admin site. To make individual settings for the
two sites edit 'settings/siteaccess/user/site.ini.append' and 'settings/siteaccess/admin/site.ini.append'.
The site.ini.append will override settings from 'settings/site.ini'
</p>


<h3 id="URI">URI</h3>
<p>
	We will stick with the www.mybookstore.com example, but now we will use URI to recognize the different sites.
	http://www.mybookstore.com/index.php/admin will be our URL to the admin site and http://www.mybookstore/index.php
	the URL to our user site. Here we only need the 'www.mybookstore.com' domain to point to our web server.
	In settings/site.ini set these settings:
</p>

<pre class="example">
file: settings/site.ini

[SiteSettings]
DefaultAccess=user

[SiteAccessSettings]
MatchOrder=uri
</pre>

<p>
	With the DefaultAccess variable we told Exponential to use the 'user' site if it is unable to match a site.
	Now Exponential will take the last part of the entered URL and map it do a directory under settings/siteaccess/.
	If we now enter http://www.mybookstore.com/index.php/admin, Exponential will look for a directory called 'admin'.
	Using URI is useful when you want multiple sites but don't have a domain for each site or don't have the ability
	to setup virtual hosts for each site. This is the configuration the Exponential Windows installer uses.
</p>


<h3 id="Port">Port</h3>
<p>
	By setting up site access to use ports we can let Exponential distinguish different sites by mapping a port to a site.
	In this example we will use port 80 for the user site and port 81 for the admin site. When the configuration is done
	we should be able to access the user site on http://www.mybookstore.com:80 and the admin site
	with http://www.mybookstore.com:81. The settings in settings/site.ini required for this setup is shown below.
</p>
<pre class="example">
file: settings/site.ini

[SiteAccessSettings]
MatchOrder=port

[PortAccessSettings]
80=user
81=admin
</pre>


<h3 id="Debug">Debug</h3>
<p>
If you have problems getting your site access configuration right, you can turn on site access debugging.
There are two settings for this. DebugAccess prints out the site access that was chosen, and
DebugExtraAccess prints some extra information on access matching.
</p>
<pre class="example">
file: settings/site.ini

[SiteAccessSettings]

DebugAccess=enabled
DebugExtraAccess=enabled

</pre>

    </td>
    <td width="1%" bgcolor="#ffffff" valign="top">
    </td>
</tr>
</table>

    </td>
</tr>
</table>
<div align="center" style="padding-top: 0.5em;">
<p class="small"><a href="https://doc.sdk.exponential.earth/">Exponential</a> copyright &copy; copyright � 1998-2025 <a hrefhttps://doc.sdk.exponential.earthno/">Exponential</a></p>
</div>

 </body>
</html>
<!--
     FILE ARCHIVED ON 07:47:16 Aug 01, 2003 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 19:42:33 Oct 31, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.426
  exclusion.robots: 0.015
  exclusion.robots.policy: 0.007
  esindex: 0.008
  cdx.remote: 6.381
  LoadShardBlock: 306.999 (3)
  PetaboxLoader3.datanode: 281.266 (4)
  PetaboxLoader3.resolve: 333.898 (2)
  load_resource: 320.684
-->